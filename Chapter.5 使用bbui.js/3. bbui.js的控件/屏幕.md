屏幕
-

bbUI工具包为目标操作系统打造最优的方式去构建应用的UI。bbUI遵循一个单一网页的方法，这个网页拥有多个以HTML片段方式加载到bbUI的屏幕。每个屏幕都有它自己的HTML片段文件。之后工具包使用AJAX来push和pop屏幕，使其脱离这个队列。工具包管理着屏幕队列并且加载内容。这就保证了设备内存的最佳使用。

定义一个屏幕
-

创建一个使用bbUI的屏幕就和创建一个HTML文件一样简单，之后放置屏幕片段到这个HTML文件中就可以了。声明一个屏幕只需要一个拥有data-bb-type="screen"属性的div即可。然后你就可以将你屏幕的所有内容放置到这个div中。

你也可以为你的屏幕定义一个标题栏，这样你就可以依据黑莓的操作系统给你的应用

你还可以使用data-bb-effect属性来指定你的屏幕的过渡效果。这个属性的值可以是以下几种。注意：BB7上面支持fade这一种过渡效果。BB5和BB6上没有任何过渡效果。

    fade : Fade screen in from transparent to fully visible
    slide-left : Slide screen in towards the left (right-to-left)
    slide-right : Slide screen in towards the right (left-to-right)
    slide-up : Slide screen in upwards from the bottom (bottom-to-top)
    slide-down : Slide screen in downwards from the top (top-to-bottom)
    
这些动画在调用popScreen()方法时将会被反转。

黑莓10活动指示（也就是你在很多应用上看到的获取数据或者加载时看到的转动的圆圈）
-

当使用黑莓10样式时，有一个额外的data-bb-indicator="true"的属性可以被使用。当这个属性被指定时，一个活动指示标记会在你屏幕的内容中（活动栏和标题栏之间）显示，直到你在屏幕的ondomready事件中结束了处理数据的过程。

一旦ondomready事件中的内容处理完毕，活动指示标记就会消失，你屏幕中的内容就会显现。

        <div data-bb-type="screen" data-bb-indicator="true">
        
        </div>
        
打开和关闭屏幕
-

若想使用bbUI在一个应用程序中打开一个新的屏幕，你只需要调用bb.pushScreen('mypage.htm','mypagename')即可。若想关闭顶层屏幕，你只需要调用bb.popScreen()方法。工具包被设计为使用Application Event WebWorks API”，这样应用程序就可以截获实体按键上的返回按键，并且将上一个页面显示出来。

If you want to override the back button handling on BB5/BB6/BB7, and substitute it with your own handler, you can simply assign the onbackkey property of the bb.init() function with your own function that will now be invoked when the back button is clicked. If you override the onbackkey it is up to you to handle all back button navigation.

<html>
    <head>
        <link  rel="stylesheet" type="text/css" href="bbui.css"></link>
        <script type="text/javascript" src="bbui.js"></script>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript">
          document.addEventListener('webworksready', function(e) {
              bb.init();
              // Open our first screen
              bb.pushScreen('firstScreen.htm', 'firstScreen');
          }, false);
        </script>
    </head>
    <body>  
    </body>
</html>
Passing Parameters to a Screen

The pushScreen() function also allows you to pass parameters to the screen that you are opening. A third optional parameter can now be passed into the pushScreen() function. This is any object of your choice. It could be a simple string, or a JSON object. This third optional parameter will then be passed into the onscreenready and ondomready events (provided in the toolkit initialization) when they fire for the associated screen.

bb.pushScreen('foo.htm', 'myScreenId', {hello: 'world', foo: 2});

An example of retrieving the contents of your parameter in the onscreen ready event is shown below

bb.init({onscreenready : function(element, id, params) {
                if (id == 'myScreenId') {
                      alert(params.hello + ' ' + params.foo);
                } 
          }
         });
Screen Scrolling Effects

Inertial screen scrolling effects with elastic ends are implemented by default for PlayBook and BlackBerry 10 only (this means no scrolling effects for other devices at the moment). This has been accomplished by integrating iScroll into bbUI.
This will provide a native scrolling experience on each of your screens. If you do not want the scrolling effects applied to a screen you can simply turn them off using the data-bb-scroll-effect="off" attribute on the <screen> element. You may want to remove these effects on screens where you want all the content within the screen to be fixed without providing an elastic pull down effect on the content.

<div data-bb-type="screen" data-bb-scroll-effect="off">

</div>
JavaScript Interface

The following JavaScript interfaces are available for dynamically manipulating a Screen after the screen has been added to the DOM

NOTE: Screen scrolling functions only work if you have scrolling effects turned on for your screen. This means it is only available on BlackBerry PlayBook and BlackBerry 10 styling

onscroll event

Screens now support an onscroll event. If you want to know when the user is scrolling screen content you can assign a handler to the onscroll event

<div data-bb-type="screen" onscroll="doSomething()">
...
</div>
refresh()

If you have manipulated the content of a screen via JavaScript (added, removed, changed sizes of elements) you will want to call refresh() so that it can recalculate its scrolling dimensions. NOTE: This is only necessary for PlayBook

document.getElementById('myScreen').refresh();
scrollTo(x,y)

You can also scroll to a specific x,y coordinate by using the scrollTo() function. It takes both an x and y coordinate. The y coordinate is for future use, but currently isn't implemented.

document.getElementById('myScreen').scrollTo(100,0);
scrollToElement(value)

If you have an element in the screen that you would like to scroll to, you can use the scrollToElement() function. This function takes in the element to scroll to.

var element = document.getElementById('myitem');
document.getElementById('myScreen').scrollToElement(element);    
getActionBarHeight()

The getActionBarHeight() function is available on the bb.screen object for BlackBerry 10 styling. This will return the standard height of the action bar in pixels.

alert(bb.screen.getActionBarHeight());    
getTitleBarHeight()

The getTitleBarHeight() function is available on the bb.screen object for BlackBerry 10 styling. This will return the standard height of the title bar in pixels.

alert(bb.screen.getTitleBarHeight());    
